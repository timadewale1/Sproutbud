<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Read PDF</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="/Media/Logo/IMG_2381.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Media/Logo/IMG_2381.png">
  <link rel="apple-touch-icon" href="/Media/Logo/IMG_2381.png">
</head>
<body class="font-body bg-sprout-green-50">
  <custom-navbar></custom-navbar>
  <div class="max-w-6xl mx-auto p-6 mt-24">
    <div class="bg-white p-4 rounded shadow">
      <div class="flex justify-between items-center mb-4">
        <h1 class="text-xl font-heading font-bold">PDF Viewer</h1>
        <div>
          <a id="downloadLink" class="text-sprout-green font-medium mr-4">Download</a>
          <a href="/publications.html" class="text-gray-600">Back</a>
        </div>
      </div>
      <div style="height:80vh">
        <iframe id="pdfFrame" src="" width="100%" height="100%"></iframe>
      </div>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const file = params.get('file');
    if(file){
      const url = decodeURIComponent(file);
      document.getElementById('pdfFrame').src = url;
      const dl = document.getElementById('downloadLink'); dl.href = url; dl.setAttribute('download','');
    } else {
      document.getElementById('pdfFrame').src = '';
      document.getElementById('downloadLink').style.display='none';
    }
  </script>

  <script src="components/navbar.js"></script>
  <script src="components/footer.js"></script>
</body>
</html>
